##总结感悟

最后我们再花一点点时间来讲一下我们在实践里做的一些东西。

一、MVP版本，Demo版本用了1个月，MVP版本用了3个月。为什么强调MVP版本？因为做这个项目你是要能让你的老板以及业务支持你的项目。大概在2011年左右，我们整个生产环境估计也有一千台机器（虚拟机），一旦出现问题就到运维那边看日志，看日志的痛苦大家都应该理解，这时候发现一台机器核心服务出错，可能会导致更多的问题。我们就做了MVP版本解决这个问题，当时我们大概做了两个功能，一个是实时知道所有的API接口访问量成功率等，第二是实时能在CAT平台上看到异常日志。这里我想说的是MVP版本不要做太多内容，但是在做一个产品的时候必须从MVP版本做起，要做一些最典型特别亮眼的功能让大家支持你。

二、数据质量，数据质量是整个监控体系里面非常关键，它决定你最后的监控报表质量。所以我们要和跟数据库框架，缓存框架、rpc框架、web框架等做深入的集成，让业务方便收集以及看到这些数据。

三、单机开发环境，这也是我们认为对整个项目开发效率提升最重要的一点。单机开发环境实际上就是说你在一台机器里可以把你所有的项目都启起来。如果你在一个单机环境下把所有东西启起来，你就会想方设法地知道我依赖的服务挂了我怎么办，比如CAT依赖了hdfs。单机开发环境除了大幅度提高你的项目开发效率之外，还能提升你整个项目的可靠性。

四、最难的事情是项目上线推动。CAT整个项目大概有两三个人，当时白天都是支持业务上线，培训，晚上才能code，但是一旦随着产品和完善以及业务使用逐渐变多，一些好的产品后面会形成良性循环，推广就会变得比较容易。

五、开放生态，公司越大监控的需求越多，报表需求也更多，比如我们点评美团一样，每个产品都有很多报表，整个技术体系里面也有很多报表非常多的自定义报表，很多业务方都提各自的需求。最后我们决定把整个CAT系统里面所有的数据都作为API暴露出去，这些需求并不是不能支持，而是这事情根本是做不完的。美团点评内部下游有很多系统依赖CAT的数据，来做进一步的报表展示。
