<?xml version="1.0" encoding="UTF-8"?>
<entities do-package="com.dianping.cat.app" gen="true" >
   <entity name="app-command-data" table="app_command_data" alias="acd">
    <member name="access-number" field="access_number" value-type="long" length="19" nullable="false" />
    <member name="response-sum-time" field="response_sum_time" value-type="long" length="19" nullable="false" />
    <member name="request-package" field="request_package" value-type="long" length="19" nullable="false" />
    <member name="response-package" field="response_package" value-type="long" length="19" nullable="false" />
    <member name="creation-date" field="creation_date" value-type="Date" nullable="false" />
    <member name="access-number-sum" value-type="long" all="false" select-expr="sum(access_number)" length="19" nullable="false" />
    <member name="response-sum-time-sum" value-type="long" all="false" select-expr="sum(response_sum_time)" length="19" nullable="false" />
    <member name="request-package-sum" value-type="long" all="false" select-expr="sum(request_package)" length="19" nullable="false" />
    <member name="response-package-sum" value-type="long" all="false" select-expr="sum(response_package)" length="19" nullable="false" />
    <var name="command-id" value-type="int" />
    <var name="start-minute-order" value-type="int" />
	<var name="end-minute-order" value-type="int" />
    <readsets>
      <readset name="COUNT-DATA">
      	<member name="minute-order"/>
      	<member name="access-number-sum"/>
      </readset>
      <readset name="AVG-DATA">
      	<member name="minute-order"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      </readset>
      <readset name="SUCCESS-DATA">
      	<member name="minute-order"/>
      	<member name="code"/>
      	<member name="access-number-sum"/>
      </readset>
      <readset name="CODE-DATA">
      	<member name="code"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      	<member name="request-package-sum"/>
      	<member name="response-package-sum"/>
      </readset>
      <readset name="OPERATOR-CODE-DATA">
      	<member name="code"/>
      	<member name="operator"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      	<member name="request-package-sum"/>
      	<member name="response-package-sum"/>
      </readset>
      <readset name="NETWORK-CODE-DATA">
      	<member name="code"/>
      	<member name="network"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      	<member name="request-package-sum"/>
      	<member name="response-package-sum"/>
      </readset>
      <readset name="APP-VERSION-CODE--DATA">
      	<member name="code"/>
      	<member name="app-version"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      	<member name="request-package-sum"/>
      	<member name="response-package-sum"/>
      </readset>
      <readset name="CONNECT-TYPE-CODE-DATA">
      	<member name="code"/>
      	<member name="connect-type"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      	<member name="request-package-sum"/>
      	<member name="response-package-sum"/>
      </readset>
      <readset name="PLATFORM-CODE-DATA">
      	<member name="code"/>
      	<member name="platform"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      	<member name="request-package-sum"/>
      	<member name="response-package-sum"/>
      </readset>  
      <readset name="CITY-CODE-DATA">
      	<member name="code"/>
      	<member name="city"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      	<member name="request-package-sum"/>
      	<member name="response-package-sum"/>
      </readset> 
      <readset name="OPERATOR-DATA">
      	<member name="operator"/>
      	<member name="access-number-sum"/>
      </readset>
      <readset name="NETWORK-DATA">
      	<member name="network"/>
      	<member name="access-number-sum"/>
      </readset>
      <readset name="APP-VERSION-DATA">
      	<member name="app-version"/>
      	<member name="access-number-sum"/>
      </readset>
      <readset name="CONNECT-TYPE-DATA">
      	<member name="connect-type"/>
      	<member name="access-number-sum"/>
      </readset>
      <readset name="PLATFORM-DATA">
      	<member name="platform"/>
      	<member name="access-number-sum"/>
      </readset> 
      <readset name="CITY-DATA">
      	<member name="city"/>
      	<member name="access-number-sum"/>
      </readset>
    </readsets>
    <query-defs>
	  <query name="insert" type="INSERT"  batch="true">
        <statement><![CDATA[INSERT INTO <TABLE/>(<FIELDS/>)
        VALUES(<VALUES/>)]]></statement>
      </query>
      <query name="insert-or-update" type="INSERT"  batch="true">
        <statement><![CDATA[INSERT INTO <TABLE/>(<FIELDS/>)
        VALUES(<VALUES/>) ON DUPLICATE KEY UPDATE 
        access_number = access_number + ${access-number},
        response_sum_time = response_sum_time + ${response-sum-time},
        request_package = request_package + ${request-package},
        response_package = response_package + ${response-package}
         ]]></statement>
      </query>
      <query name="delete-before-period" type="DELETE">
        <param name="period" />
        <statement><![CDATA[DELETE FROM <TABLE/>
        WHERE <FIELD name='period'/> <= ${period}]]></statement>
      </query>
      <query name="find-data-by-minute" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='minute-order'/>  ]]></statement>
      </query>
      <query name="find-daily-data-by-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        group by <FIELD name='code'/>  ]]></statement>
      </query>
      <query name="find-data-by-minute-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='minute-order'/>,<FIELD name='code'/>  ]]></statement>
      </query>
      <query name="find-data-by-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period}
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF> 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='code'/> ]]></statement>
      </query>
      <query name="find-data-by-operator-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by <FIELD name='operator'/>, <FIELD name='code'/>]]></statement>
      </query>
      <query name="find-data-by-network-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by <FIELD name='network'/>, <FIELD name='code'/>]]></statement>
      </query>
      <query name="find-data-by-app-version-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by <FIELD name='app-version'/>, <FIELD name='code'/>]]></statement>
      </query>
      <query name="find-data-by-connect-type-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by <FIELD name='connect-type'/>, <FIELD name='code'/>]]></statement>
      </query>
      <query name="find-data-by-platform-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by <FIELD name='platform'/>, <FIELD name='code'/>]]></statement>
      </query>
      <query name="find-data-by-city-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by <FIELD name='city'/>, <FIELD name='code'/>]]></statement>
      </query>
      <query name="find-data-by-operator" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF>
		<IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='operator'/>  ]]></statement>
      </query>
      <query name="find-data-by-network" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF>
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='network'/>  ]]></statement>
      </query>
      <query name="find-data-by-app-version" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF>
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='app-version'/>  ]]></statement>
      </query>
      <query name="find-data-by-connect-type" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF>
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='connect-type'/>  ]]></statement>
      </query>
      <query name="find-data-by-platform" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF>
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='platform'/>  ]]></statement>
      </query>
      <query name="find-data-by-city" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF>
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='city'/>  ]]></statement>
      </query>
    </query-defs>
  </entity>
  
  <entity name="app-connection-data" table="app_connection_data" alias="acd2">
    <member name="access-number" field="access_number" value-type="long" length="19" nullable="false" />
    <member name="response-sum-time" field="response_sum_time" value-type="long" length="19" nullable="false" />
    <member name="request-package" field="request_package" value-type="long" length="19" nullable="false" />
    <member name="response-package" field="response_package" value-type="long" length="19" nullable="false" />
    <member name="creation-date" field="creation_date" value-type="Date" nullable="false" />
    <member name="access-number-sum" value-type="long" all="false" select-expr="sum(access_number)" length="19" nullable="false" />
    <member name="response-sum-time-sum" value-type="long" all="false" select-expr="sum(response_sum_time)" length="19" nullable="false" />
    <member name="request-package-sum" value-type="long" all="false" select-expr="sum(request_package)" length="19" nullable="false" />
    <member name="response-package-sum" value-type="long" all="false" select-expr="sum(response_package)" length="19" nullable="false" />
    <var name="command-id" value-type="int" />
    <var name="start-minute-order" value-type="int" />
	<var name="end-minute-order" value-type="int" />
    <readsets>
      <readset name="COUNT-DATA">
      	<member name="minute-order"/>
      	<member name="access-number-sum"/>
      </readset>
      <readset name="AVG-DATA">
      	<member name="minute-order"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      </readset>
      <readset name="SUCCESS-DATA">
      	<member name="minute-order"/>
      	<member name="code"/>
      	<member name="access-number-sum"/>
      </readset>
      <readset name="CODE-DATA">
      	<member name="code"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      	<member name="request-package-sum"/>
      	<member name="response-package-sum"/>
      </readset>
      <readset name="OPERATOR-CODE-DATA">
      	<member name="code"/>
      	<member name="operator"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      	<member name="request-package-sum"/>
      	<member name="response-package-sum"/>
      </readset>
      <readset name="NETWORK-CODE-DATA">
      	<member name="code"/>
      	<member name="network"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      	<member name="request-package-sum"/>
      	<member name="response-package-sum"/>
      </readset>
      <readset name="APP-VERSION-CODE--DATA">
      	<member name="code"/>
      	<member name="app-version"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      	<member name="request-package-sum"/>
      	<member name="response-package-sum"/>
      </readset>
      <readset name="CONNECT-TYPE-CODE-DATA">
      	<member name="code"/>
      	<member name="connect-type"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      	<member name="request-package-sum"/>
      	<member name="response-package-sum"/>
      </readset>
      <readset name="PLATFORM-CODE-DATA">
      	<member name="code"/>
      	<member name="platform"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      	<member name="request-package-sum"/>
      	<member name="response-package-sum"/>
      </readset>  
      <readset name="CITY-CODE-DATA">
      	<member name="code"/>
      	<member name="city"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      	<member name="request-package-sum"/>
      	<member name="response-package-sum"/>
      </readset> 
      <readset name="OPERATOR-DATA">
      	<member name="operator"/>
      	<member name="access-number-sum"/>
      </readset>
      <readset name="NETWORK-DATA">
      	<member name="network"/>
      	<member name="access-number-sum"/>
      </readset>
      <readset name="APP-VERSION-DATA">
      	<member name="app-version"/>
      	<member name="access-number-sum"/>
      </readset>
      <readset name="CONNECT-TYPE-DATA">
      	<member name="connect-type"/>
      	<member name="access-number-sum"/>
      </readset>
      <readset name="PLATFORM-DATA">
      	<member name="platform"/>
      	<member name="access-number-sum"/>
      </readset> 
      <readset name="CITY-DATA">
      	<member name="city"/>
      	<member name="access-number-sum"/>
      </readset>
    </readsets>
    <query-defs>
	  <query name="insert" type="INSERT"  batch="true">
        <statement><![CDATA[INSERT INTO <TABLE/>(<FIELDS/>)
        VALUES(<VALUES/>)]]></statement>
      </query>
      <query name="insert-or-update" type="INSERT"  batch="true">
        <statement><![CDATA[INSERT INTO <TABLE/>(<FIELDS/>)
        VALUES(<VALUES/>) ON DUPLICATE KEY UPDATE 
        access_number = access_number + ${access-number},
        response_sum_time = response_sum_time + ${response-sum-time},
        request_package = request_package + ${request-package},
        response_package = response_package + ${response-package}
         ]]></statement>
      </query>
      <query name="delete-before-period" type="DELETE">
        <param name="period" />
        <statement><![CDATA[DELETE FROM <TABLE/>
        WHERE <FIELD name='period'/> <= ${period}]]></statement>
      </query>
      <query name="find-data-by-minute" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='minute-order'/>  ]]></statement>
      </query>
      <query name="find-data-by-minute-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='minute-order'/>,<FIELD name='code'/>  ]]></statement>
      </query>
      <query name="find-data-by-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
         <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period}
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF> 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='code'/> ]]></statement>
      </query>
      <query name="find-data-by-operator-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by <FIELD name='operator'/>, <FIELD name='code'/>]]></statement>
      </query>
      <query name="find-data-by-network-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by <FIELD name='network'/>, <FIELD name='code'/>]]></statement>
      </query>
      <query name="find-data-by-app-version-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by <FIELD name='app-version'/>, <FIELD name='code'/>]]></statement>
      </query>
      <query name="find-data-by-connect-type-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by <FIELD name='connect-type'/>, <FIELD name='code'/>]]></statement>
      </query>
      <query name="find-data-by-platform-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by <FIELD name='platform'/>, <FIELD name='code'/>]]></statement>
      </query>
      <query name="find-data-by-city-code" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by <FIELD name='city'/>, <FIELD name='code'/>]]></statement>
      </query>
      <query name="find-data-by-operator" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF>
		<IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='operator'/>  ]]></statement>
      </query>
      <query name="find-data-by-network" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF>
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='network'/>  ]]></statement>
      </query>
      <query name="find-data-by-app-version" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF>
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='app-version'/>  ]]></statement>
      </query>
      <query name="find-data-by-connect-type" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF>
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='connect-type'/>  ]]></statement>
      </query>
      <query name="find-data-by-platform" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF>
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='platform'/>  ]]></statement>
      </query>
      <query name="find-data-by-city" type="SELECT" multiple="true">
        <param name="command-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="connect-type" />
        <param name="code" />
        <param name="platform" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF>
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
        <IF type='NE' field='connect-type' value='-1'>
			AND  <FIELD name='connect-type'/> = ${connect-type}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='city'/>  ]]></statement>
      </query>
    </query-defs>
  </entity>
  
  <entity name="app-speed-data" table="app_speed_data" alias="asd">
		<member name="access-number-sum" value-type="long" all="false" select-expr="sum(access_number)" length="19" nullable="false" />
		<member name="slow-access-number-sum" value-type="long" all="false" select-expr="sum(slow_access_number)" length="19" nullable="false" />
	    <member name="response-sum-time-sum" value-type="long" all="false" select-expr="sum(response_sum_time)" length="19" nullable="false" />
	    <member name="slow-response-sum-time-sum" value-type="long" all="false" select-expr="sum(slow_response_sum_time)" length="19" nullable="false" />
	    <var name="key-id" value-type="int" key-member="id" />
    	<var name="speed-id" value-type="int" />
	  <readsets>
      <readset name="COUNT-DATA">
      	<member name="minute-order"/>
      	<member name="access-number-sum"/>
      	<member name="slow-access-number-sum"/>
      </readset>
      <readset name="AVG-DATA">
      	<member name="minute-order"/>
      	<member name="access-number-sum"/>
      	<member name="slow-access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      	<member name="slow-response-sum-time-sum"/>
      </readset>
      </readsets>
      
      <query-defs>
	  <query name="insert" type="INSERT"  batch="true">
        <statement><![CDATA[INSERT INTO <TABLE/>(<FIELDS/>)
        VALUES(<VALUES/>)]]></statement>
      </query>
      <query name="delete-before-period" type="DELETE">
        <param name="period" />
        <statement><![CDATA[DELETE FROM <TABLE/>
        WHERE <FIELD name='period'/> <= ${period}]]></statement>
      </query>  
      <query name="insert-or-update" type="INSERT"  batch="true">
        <statement><![CDATA[INSERT INTO <TABLE/>(<FIELDS/>)
        VALUES(<VALUES/>) ON DUPLICATE KEY UPDATE 
        access_number = access_number + ${access-number},
        slow_access_number = slow_access_number + ${slow-access-number},
        response_sum_time = response_sum_time + ${response-sum-time},
        slow_response_sum_time = slow_response_sum_time + ${slow-response-sum-time}
         ]]></statement>
      </query>  
      <query name="find-data-by-minute" type="SELECT" multiple="true">
        <param name="speed-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="network" />
        <param name="app-version" />
        <param name="platform" />
       
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
        <IF type='NE' field='network' value='-1'>
			AND  <FIELD name='network'/> = ${network}
		</IF>
        <IF type='NE' field='app-version' value='-1'>
			AND  <FIELD name='app-version'/> = ${app-version}
		</IF>
		<IF type='NE' field='platform' value='-1'>
			AND  <FIELD name='platform'/> = ${platform}
		</IF>
        group by  <FIELD name='minute-order'/>  ]]></statement>
      </query>
      </query-defs>
	</entity>
	
	<entity name="web-api-data" table="web_api_data" alias="wad">
      <member name="access-number-sum" value-type="long" all="false" select-expr="sum(access_number)" length="19" nullable="false" />
      <member name="response-sum-time-sum" value-type="long" all="false" select-expr="sum(response_sum_time)" length="19" nullable="false" />
      <var name="api-id" value-type="int" />
      <var name="start-minute-order" value-type="int" />
	  <var name="end-minute-order" value-type="int" />
      <readsets>
      <readset name="COUNT-DATA">
      	<member name="minute-order"/>
      	<member name="access-number-sum"/>
      </readset>
      <readset name="AVG-DATA">
      	<member name="minute-order"/>
      	<member name="access-number-sum"/>
     	<member name="response-sum-time-sum"/>
      </readset>
      <readset name="SUCCESS-DATA">
      	<member name="minute-order"/>
      	<member name="code"/>
      	<member name="access-number-sum"/>
      </readset>
      <readset name="CODE-DATA">
      	<member name="code"/>
      	<member name="access-number-sum"/>
      	<member name="response-sum-time-sum"/>
      </readset>
      <readset name="OPERATOR-DATA">
      	<member name="operator"/>
      	<member name="access-number-sum"/>
      </readset>
      <readset name="CITY-DATA">
      	<member name="city"/>
      	<member name="access-number-sum"/>
      </readset>
      </readsets>
      <query-defs>
	  <query name="insert" type="INSERT"  batch="true">
        <statement><![CDATA[INSERT INTO <TABLE/>(<FIELDS/>)
        VALUES(<VALUES/>)]]></statement>
      </query>
      <query name="insert-or-update" type="INSERT"  batch="true">
        <statement><![CDATA[INSERT INTO <TABLE/>(<FIELDS/>)
        VALUES(<VALUES/>) ON DUPLICATE KEY UPDATE 
        access_number = access_number + ${access-number}
         ]]></statement>
      </query>
      <query name="delete-before-period" type="DELETE">
        <param name="period" />
        <statement><![CDATA[DELETE FROM <TABLE/>
        WHERE <FIELD name='period'/> <= ${period}]]></statement>
      </query>
      <query name="find-data-by-minute" type="SELECT" multiple="true">
        <param name="api-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="code" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
        group by  <FIELD name='minute-order'/>  ]]></statement>
      </query>
      <query name="find-daily-data-by-code" type="SELECT" multiple="true">
        <param name="api-id" />
        <param name="period" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        group by <FIELD name='code'/>  ]]></statement>
      </query>
      <query name="find-data-by-minute-code" type="SELECT" multiple="true">
        <param name="api-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="code" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF> 
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
        group by  <FIELD name='minute-order'/>,<FIELD name='code'/>  ]]></statement>
      </query>
      <query name="find-data-by-code" type="SELECT" multiple="true">
        <param name="api-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="code" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period}
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF> 
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>    
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>
        group by  <FIELD name='code'/> ]]></statement>
      </query>
      <query name="find-data-by-operator" type="SELECT" multiple="true">
        <param name="api-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="code" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF>
		<IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>       
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>		
        group by  <FIELD name='operator'/>  ]]></statement>
      </query>
      <query name="find-data-by-city" type="SELECT" multiple="true">
        <param name="api-id" />
        <param name="period" />
        <param name="city" />
        <param name="operator" />
        <param name="code" />
        <param name="start-minute-order" />
        <param name="end-minute-order" />
        <statement><![CDATA[SELECT <FIELDS/>
        FROM <TABLE/>
        WHERE <FIELD name='period'/> = ${period} 
        <IF type='NE' field='start-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> >= ${start-minute-order}
		</IF>
		<IF type='NE' field='end-minute-order' value='-1'>
			AND  <FIELD name='minute-order'/> <= ${end-minute-order}
		</IF>
        <IF type='NE' field='city' value='-1'>
			AND  <FIELD name='city'/> = ${city}
		</IF>
        <IF type='NE' field='operator' value='-1'>
			AND  <FIELD name='operator'/> = ${operator}
		</IF>     
		<IF type='NE' field='code' value='-1'>
			AND  <FIELD name='code'/> = ${code}
		</IF>	
        group by  <FIELD name='city'/>  ]]></statement>
      </query>
    </query-defs>
    </entity>
</entities>
